<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Kuis Anak Ngaji</title>
<style>
  body {
    font-family: "Comic Sans MS", Arial, sans-serif;
    background: linear-gradient(135deg, #84fab0, #8fd3f4);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .card {
    background: #fff;
    width: 90%;
    max-width: 700px;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    text-align: center;
  }

  h1 {
    color: #2c7be5;
  }

  #question {
    font-size: 20px;
    margin: 20px 0;
  }

  button {
    width: 100%;
    padding: 12px;
    margin: 8px 0;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    cursor: pointer;
    background: #4facfe;
    color: white;
    transition: all 0.3s ease;
  }

  button:hover {
    background: #00c6fb;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  }

  button:active {
    transform: translateY(0);
  }

  .feedback-correct {
    color: green;
    font-weight: bold;
  }

  .feedback-incorrect {
    color: red;
    font-weight: bold;
  }

  .info {
    margin-top: 15px;
    font-size: 16px;
  }

  .score {
    margin-top: 10px;
    font-weight: bold;
  }

  /* Start Screen Styles */
  #startScreen {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .start-emoji {
    font-size: 80px;
    margin-bottom: 20px;
    animation: bounce 0.6s ease;
  }

  @keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
  }

  .start-screen h1 {
    font-size: 32px;
    margin-bottom: 15px;
  }

  .start-screen p {
    font-size: 16px;
    color: #666;
    margin-bottom: 30px;
    line-height: 1.6;
  }

  .quiz-info {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-bottom: 30px;
  }

  .info-item {
    padding: 15px;
    background: #f0f0f0;
    border-radius: 10px;
    color: #333;
    font-size: 14px;
  }

  .start-button {
    background: linear-gradient(135deg, #667eea, #764ba2) !important;
    padding: 16px 40px !important;
    font-size: 18px !important;
    width: auto !important;
    max-width: 300px !important;
  }

  .start-button:hover {
    background: linear-gradient(135deg, #764ba2, #667eea) !important;
  }

  #quizScreen {
    display: none;
  }

  /* Result Screen Styles */
  #resultScreen {
    display: none;
    text-align: center;
  }

  .result-emoji {
    font-size: 80px;
    margin-bottom: 20px;
    animation: bounce 0.6s ease;
  }

  .result-screen h1 {
    font-size: 32px;
    color: #2c7be5;
    margin-bottom: 15px;
  }

  .result-message {
    font-size: 18px;
    color: #666;
    margin-bottom: 30px;
    line-height: 1.6;
  }

  .result-stats {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 30px;
  }

  .stat-item {
    background: #f0f0f0;
    padding: 20px;
    border-radius: 12px;
    border-left: 4px solid #4facfe;
  }

  .stat-label {
    font-size: 14px;
    color: #666;
    margin-bottom: 8px;
  }

  .stat-value {
    font-size: 32px;
    font-weight: bold;
    color: #2c7be5;
  }

  .result-category {
    font-size: 20px;
    font-weight: bold;
    color: #667eea;
    margin-bottom: 30px;
    padding: 15px;
    background: #f9f9f9;
    border-radius: 10px;
  }

  .retry-button {
    background: linear-gradient(135deg, #667eea, #764ba2) !important;
    padding: 16px 40px !important;
    font-size: 18px !important;
    width: auto !important;
    max-width: 300px !important;
  }

  .retry-button:hover {
    background: linear-gradient(135deg, #764ba2, #667eea) !important;
  }
</style>
</head>

<body>

<div class="card">
  <!-- Start Screen -->
  <div id="startScreen">
    <div class="start-emoji">üïå</div>
    <h1>Kuis Anak Ngaji</h1>
    <p>Selamat datang! Ayo uji pengetahuan Anda tentang Tajwid dan Doa Harian.</p>
    
    <div class="quiz-info">
      <div class="info-item">üìö 10 Soal</div>
      <div class="info-item">‚≠ê +10 Poin Benar</div>
      <div class="info-item">‚ùå -5 Poin Salah</div>
      <div class="info-item">‚ù§Ô∏è 3 Kesempatan</div>
    </div>
    
    <button onclick="startQuiz()" class="start-button">üöÄ Mulai Kuis</button>
  </div>

  <!-- Quiz Screen -->
  <div id="quizScreen">
    <h1>üïå Kuis Anak Ngaji</h1>

    <div style="margin-bottom: 15px; font-size: 18px; font-weight: bold;">
      Kesalahan: <span id="salahCount">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span>
    </div>

    <p id="question"></p>

    <button onclick="answer(0)" id="o0"></button>
    <button onclick="answer(1)" id="o1"></button>
    <button onclick="answer(2)" id="o2"></button>
    <button onclick="answer(3)" id="o3"></button>

    <p id="feedback"></p>

    <div class="score">
      ‚≠ê Point: <span id="point">0</span> |
      üìù Nilai: <span id="nilai">0</span>
    </div>

    <div class="info">
      Soal <span id="current">1</span> / <span id="total">10</span>
    </div>
  </div>

  <!-- Result Screen -->
  <div id="resultScreen">
    <div class="result-emoji" id="resultEmoji">üéâ</div>
    <h1>Kuis Selesai!</h1>
    
    <div class="result-stats">
      <div class="stat-item">
        <div class="stat-label">Poin Akhir</div>
        <div class="stat-value" id="finalPoint">0</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Nilai Akhir</div>
        <div class="stat-value" id="finalScore">0%</div>
      </div>
    </div>

    <div class="result-category" id="resultCategory">Selamat!</div>

    <p class="result-message">Terima kasih telah mengikuti kuis. Semoga bermanfaat untuk meningkatkan pengetahuan Anda tentang Tajwid dan Doa Harian.</p>

    <button onclick="location.reload()" class="retry-button">üîÑ Ulangi Kuis</button>
  </div>
</div>

<script>
const soalBank = [
  // TAJWID NUN SUKUN & TANWIN
  {q:"Nun sukun bertemu huruf ÿ® hukumnya?", o:["Ikhfa","Idgham","Iqlab","Idzhar"], a:2},
  {q:"Nun sukun bertemu huruf Ÿä termasuk?", o:["Idzhar","Idgham Bighunnah","Ikhfa","Iqlab"], a:1},
  {q:"Nun sukun bertemu huruf ŸÖ hukumnya?", o:["Ikhfa","Idgham Bighunnah","Idzhar","Iqlab"], a:1},
  {q:"Nun sukun bertemu huruf ÿ≠ disebut?", o:["Idzhar","Ikhfa","Idgham","Iqlab"], a:0},

  // TAJWID MIM SUKUN
  {q:"Mim sukun bertemu mim disebut?", o:["Ikhfa","Idgham Mimi","Idzhar Syafawi","Iqlab"], a:1},
  {q:"Mim sukun bertemu huruf ÿ® hukumnya?", o:["Ikhfa Syafawi","Idzhar","Idgham","Iqlab"], a:0},
  {q:"Mim sukun bertemu selain ŸÖ dan ÿ® disebut?", o:["Idgham","Ikhfa","Idzhar Syafawi","Iqlab"], a:2},

  // DOA SEHARI-HARI
  {q:"Doa sebelum makan diawali dengan?", o:["Alhamdulillah","Bismillahirrahmanirrahim","Astaghfirullah","Subhanallah"], a:1},
  {q:"Doa setelah makan adalah?", o:["Bismillah","Alhamdulillahilladzi ath'amana","Allahumma barik","Subhanallah"], a:1},
  {q:"Doa sebelum tidur dibaca saat?", o:["Bangun tidur","Sebelum tidur","Masuk rumah","Keluar rumah"], a:1},
  {q:"Doa bangun tidur diawali dengan?", o:["Bismillah","Alhamdulillahil ladzi ahyana","Astaghfirullah","Allahumma barik"], a:1},
  {q:"Doa masuk kamar mandi diawali dengan?", o:["Ghufranak","Allahumma inni a'udzu bika","Bismillah","Alhamdulillah"], a:1},
  {q:"Doa keluar kamar mandi adalah?", o:["Bismillah","Subhanallah","Ghufranak","Alhamdulillah"], a:2},
  {q:"Doa keluar rumah dibaca agar?", o:["Cepat sampai","Diberi keselamatan","Banyak uang","Tidak hujan"], a:1},
  {q:"Doa sebelum belajar berbunyi?", o:["Rabbi zidni 'ilma","Allahumma barik","Subhanallah","Astaghfirullah"], a:0}
];

let soal = [];
let i = 0;
let point = 0;
let salah = 0;

function shuffle(arr) {
  return arr.sort(() => Math.random() - 0.5);
}

function updateSalahCount() {
  const hearts = [];
  for (let j = 0; j < 3; j++) {
    if (j < salah) {
      hearts.push("ü§ç");
    } else {
      hearts.push("‚ù§Ô∏è");
    }
  }
  document.getElementById("salahCount").innerText = hearts.join("");
}

function startQuiz() {
  document.getElementById("startScreen").style.display = "none";
  document.getElementById("quizScreen").style.display = "block";
  document.getElementById("resultScreen").style.display = "none";
  soal = shuffle(soalBank).slice(0, 10);
  document.getElementById("total").innerText = soal.length;
  i = 0;
  point = 0;
  salah = 0;
  updateSalahCount();
  load();
}

function load() {
  document.getElementById("current").innerText = i + 1;
  document.getElementById("question").innerText = soal[i].q;

  for (let x = 0; x < 4; x++) {
    document.getElementById("o"+x).innerText = soal[i].o[x];
  }

  document.getElementById("feedback").innerText = "";
  document.getElementById("feedback").className = "";
}

function answer(pilih) {
  if (pilih === soal[i].a) {
    point += 10;
    document.getElementById("feedback").innerText = "‚úÖ Benar! +10 point";
    document.getElementById("feedback").className = "feedback-correct";
  } else {
    point -= 5;
    salah++;
    updateSalahCount();
    document.getElementById("feedback").innerText = "‚ùå Salah! -5 point";
    document.getElementById("feedback").className = "feedback-incorrect";
    
    // Game over jika salah 3 kali
    if (salah >= 3) {
      document.getElementById("point").innerText = point;
      document.getElementById("nilai").innerText =
        Math.max(0, Math.round((point / (soal.length * 10)) * 100));
      
      setTimeout(() => {
        gameOver();
      }, 900);
      return;
    }
  }

  document.getElementById("point").innerText = point;
  document.getElementById("nilai").innerText =
    Math.max(0, Math.round((point / (soal.length * 10)) * 100));

  i++;

  if (i < soal.length) {
    setTimeout(load, 900);
  } else {
    setTimeout(selesai, 900);
  }
}

function gameOver() {
  let nilaiAkhir = Math.max(0, Math.round((point / (soal.length * 10)) * 100));
  
  // Sembunyikan quiz screen dan tampilkan result screen
  document.getElementById("quizScreen").style.display = "none";
  document.getElementById("resultScreen").style.display = "block";

  // Isi data hasil untuk game over
  document.getElementById("resultEmoji").innerText = "üò¢";
  document.getElementById("finalPoint").innerText = point;
  document.getElementById("finalScore").innerText = nilaiAkhir + "%";
  document.getElementById("resultCategory").innerText = "‚ùå Game Over! Salah 3 kali, jangan menyerah coba lagi!";
}

function selesai() {
  let nilaiAkhir = Math.max(0, Math.round((point / (soal.length * 10)) * 100));
  let hasil = "";
  let emoji = "üéâ";

  if (nilaiAkhir >= 85) {
    hasil = "üåü MasyaAllah, hebat sekali!";
    emoji = "üåü";
  } else if (nilaiAkhir >= 70) {
    hasil = "üëç Baik, terus semangat!";
    emoji = "üëç";
  } else {
    hasil = "üìñ Ayo belajar lagi ya!";
    emoji = "üìñ";
  }

  // Sembunyikan quiz screen dan tampilkan result screen
  document.getElementById("quizScreen").style.display = "none";
  document.getElementById("resultScreen").style.display = "block";

  // Isi data hasil
  document.getElementById("resultEmoji").innerText = emoji;
  document.getElementById("finalPoint").innerText = point;
  document.getElementById("finalScore").innerText = nilaiAkhir + "%";
  document.getElementById("resultCategory").innerText = hasil;
}
</script>

</body>
</html>
